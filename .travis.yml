language: scala

scala:
- 2.10.4

jdk:
- openjdk6

branches:
  only:
  - master

script:
- sbt ++$TRAVIS_SCALA_VERSION clean test
- sbt ++$TRAVIS_SCALA_VERSION clean scoverage:test

after_success:
- sbt ++$TRAVIS_SCALA_VERSION clean $(if [[ "$TRAVIS_PULL_REQUEST" == "false" && "$JAVA_HOME"
  == "$(jdk_switcher home openjdk6)" ]]; then echo "publish"; fi)

env:
  global:
  # travis encrypt -r stacycurl/delta SONATYPE_USERNAME=<USERNAME>
  - secure: 1P4DKrY9R84I2oApx7dmp7cKv6DMHEb3qMduN4JTCV5szmj/TmQbrKmaJ0wj6yuxwuPxXTYhqwG84/Gvz15FGqENBuw1ctXz8f5Q8PU3RRHtJMSpYHCpAnwxBeS1x/nfxjbyco9WLj4s2hw6uFZ9Ax0EI9vxO73bOiIKKaLUFUA=
  # travis encrypt -r stacycurl/delta SONATYPE_PASSWORD=<PASSWORD>
  - secure: yxIKpCRhbyJNO7FnsxFKehu/t4ozq6W3jkCKAFGvltoWDGyApqgmzsmoW1ZTUrxtNhmaFaxl+9JccC/pjALa0Hizn9ZRiVGVW1eGJghPbnaZd1LR3D5gt6Qg77F++KYjK0OBpTwQdf4tYCyikgqeFMyLWl5HKWd2sSDnnySiNLg=
